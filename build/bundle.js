var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function s(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let c,a;function i(t,e){return c||(c=document.createElement("a")),c.href=e,t===c.href}function o(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function p(){return m(" ")}function h(){return m("")}function y(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.data!==e&&(t.data=e)}function k(t,e){t.value=null==e?"":e}function x(t,e,n){t.classList[n?"add":"remove"](e)}function $(t){a=t}function w(t){(function(){if(!a)throw new Error("Function called outside component initialization");return a})().$$.on_mount.push(t)}const _=[],C=[];let E=[];const S=[],I=Promise.resolve();let M=!1;function N(t){E.push(t)}const O=new Set;let L=0;function j(){if(0!==L)return;const t=a;do{try{for(;L<_.length;){const t=_[L];L++,$(t),R(t.$$)}}catch(t){throw _.length=0,L=0,t}for($(null),_.length=0,L=0;C.length;)C.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];O.has(e)||(O.add(e),e())}E.length=0}while(_.length);for(;S.length;)S.pop()();M=!1,O.clear(),$(t)}function R(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const T=new Set;function F(t,e){t&&t.i&&(T.delete(t),t.i(e))}function P(t,e){t.d(1),e.delete(t.key)}function A(t,e,n,s,r,c,a,i,o,f,u,d){let g=t.length,m=c.length,p=g;const h={};for(;p--;)h[t[p].key]=p;const y=[],v=new Map,b=new Map,k=[];for(p=m;p--;){const t=d(r,c,p),l=n(t);let i=a.get(l);i?s&&k.push((()=>i.p(t,e))):(i=f(l,t),i.c()),v.set(l,y[p]=i),l in h&&b.set(l,Math.abs(p-h[l]))}const x=new Set,$=new Set;function w(t){F(t,1),t.m(i,u),a.set(t.key,t),u=t.first,m--}for(;g&&m;){const e=y[m-1],n=t[g-1],l=e.key,s=n.key;e===n?(u=e.first,g--,m--):v.has(s)?!a.has(l)||x.has(l)?w(e):$.has(s)?g--:b.get(l)>b.get(s)?($.add(l),w(e)):(x.add(s),g--):(o(n,a),g--)}for(;g--;){const e=t[g];v.has(e.key)||o(e,a)}for(;m;)w(y[m-1]);return l(k),y}function D(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];E.forEach((l=>-1===t.indexOf(l)?e.push(l):n.push(l))),n.forEach((t=>t())),E=e}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(t,e){-1===t.$$.dirty[0]&&(_.push(t),M||(M=!0,I.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function U(r,c,i,o,f,d,g,m=[-1]){const p=a;$(r);const h=r.$$={fragment:null,ctx:[],props:d,update:t,not_equal:f,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(p?p.$$.context:[])),callbacks:n(),dirty:m,skip_bound:!1,root:c.target||p.$$.root};g&&g(h.root);let y=!1;if(h.ctx=i?i(r,c.props||{},((t,e,...n)=>{const l=n.length?n[0]:e;return h.ctx&&f(h.ctx[t],h.ctx[t]=l)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](l),y&&J(r,t)),e})):[],h.update(),y=!0,l(h.before_update),h.fragment=!!o&&o(h.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);h.fragment&&h.fragment.l(t),t.forEach(u)}else h.fragment&&h.fragment.c();c.intro&&F(r.$$.fragment),function(t,n,r,c){const{fragment:a,after_update:i}=t.$$;a&&a.m(n,r),c||N((()=>{const n=t.$$.on_mount.map(e).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...n):l(n),t.$$.on_mount=[]})),i.forEach(N)}(r,c.target,c.anchor,c.customElement),j()}$(p)}class B{$destroy(){D(this,1),this.$destroy=t}$on(e,n){if(!s(n))return t;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const t=l.indexOf(n);-1!==t&&l.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function G(t,e,n){const l=t.slice();return l[96]=e[n].path,l[97]=e[n].index,l[98]=e[n].tag,l[99]=e[n].type,l}function q(t,e,n){const l=t.slice();return l[98]=e[n],l}function z(t,e,n){const l=t.slice();return l[96]=e[n].path,l[97]=e[n].index,l[98]=e[n].tag,l[99]=e[n].type,l}function W(t,e,n){const l=t.slice();return l[98]=e[n],l}function X(t,e,n){const l=t.slice();return l[96]=e[n].path,l[97]=e[n].index,l[98]=e[n].tag,l[99]=e[n].type,l}function Y(t,e,n){const l=t.slice();return l[98]=e[n],l}function H(t,e,n){const l=t.slice();return l[96]=e[n].path,l[97]=e[n].index,l[98]=e[n].tag,l[99]=e[n].type,l}function K(t,e,n){const l=t.slice();return l[98]=e[n],l}function Q(t,e,n){const l=t.slice();return l[96]=e[n].path,l[97]=e[n].index,l[98]=e[n].tag,l[99]=e[n].type,l}function V(t,e,n){const l=t.slice();return l[96]=e[n].path,l[97]=e[n].index,l[98]=e[n].tag,l[99]=e[n].type,l}function Z(t,e,n){const l=t.slice();return l[98]=e[n],l}function tt(t){let e,n,s,r,c,a,i,m,h,b,k,x,$,w,_,C,E,S,I,M,N=t[4],O=[];for(let e=0;e<N.length;e+=1)O[e]=nt(Z(t,N,e));return{c(){e=g("div"),n=g("h2"),n.textContent="Menu",s=p(),r=g("hr"),c=p(),a=g("div"),i=g("button"),i.textContent="Back",m=g("br"),h=p(),b=g("button"),b.textContent="Regenerate",k=g("br"),x=p(),$=g("button"),$.textContent="Download Labels",w=g("br"),_=p(),C=g("button"),C.textContent="Load Labels",E=g("br"),S=p();for(let t=0;t<O.length;t+=1)O[t].c();v(n,"class","svelte-yfi6nf"),v(r,"class","svelte-yfi6nf"),v(i,"class","btn btn-sm btn-primary svelte-yfi6nf"),v(b,"class","btn btn-sm btn-secondary svelte-yfi6nf"),v($,"class","btn btn-sm btn-secondary svelte-yfi6nf"),v(C,"class","btn btn-sm btn-secondary svelte-yfi6nf"),v(a,"class","btn-group-vertical"),v(e,"class","side-menu svelte-yfi6nf")},m(l,u){f(l,e,u),o(e,n),o(e,s),o(e,r),o(e,c),o(e,a),o(a,i),o(a,m),o(a,h),o(a,b),o(a,k),o(a,x),o(a,$),o(a,w),o(a,_),o(a,C),o(a,E),o(a,S);for(let t=0;t<O.length;t+=1)O[t]&&O[t].m(a,null);I||(M=[y(i,"click",t[20]),y($,"click",t[11]),y(C,"click",t[12])],I=!0)},p(t,e){if(16&e[0]){let n;for(N=t[4],n=0;n<N.length;n+=1){const l=Z(t,N,n);O[n]?O[n].p(l,e):(O[n]=nt(l),O[n].c(),O[n].m(a,null))}for(;n<O.length;n+=1)O[n].d(1);O.length=N.length}},d(t){t&&u(e),d(O,t),I=!1,l(M)}}}function et(e){let n,l,s,r;return{c(){n=g("div"),l=g("button"),l.textContent="Menu",v(l,"class","btn btn-primary svelte-yfi6nf"),v(n,"class","menu svelte-yfi6nf")},m(t,c){f(t,n,c),o(n,l),s||(r=y(l,"click",e[20]),s=!0)},p:t,d(t){t&&u(n),s=!1,r()}}}function nt(t){let e,n,l,s=t[98]+"";return{c(){e=g("button"),n=m(s),l=g("br"),v(e,"class","svelte-yfi6nf")},m(t,s){f(t,e,s),o(e,n),f(t,l,s)},p(t,e){16&e[0]&&s!==(s=t[98]+"")&&b(n,s)},d(t){t&&u(e),t&&u(l)}}}function lt(t){let e,n,l,s,r,c,a,d,h,k,$=t[97]+"";function w(...e){return t[29](t[97],...e)}return{c(){e=g("div"),n=g("div"),l=m($),s=p(),r=g("img"),d=p(),v(n,"class","image-number svelte-yfi6nf"),i(r.src,c=t[96])||v(r,"src",c),v(r,"alt",a=t[96]),v(r,"class","panel-image svelte-yfi6nf"),x(r,"selected",t[5]==t[97]&&"real"==t[6]),v(e,"class","grid-item svelte-yfi6nf")},m(t,c){f(t,e,c),o(e,n),o(n,l),o(e,s),o(e,r),o(e,d),h||(k=y(r,"click",w),h=!0)},p(e,n){t=e,1&n[0]&&$!==($=t[97]+"")&&b(l,$),1&n[0]&&!i(r.src,c=t[96])&&v(r,"src",c),1&n[0]&&a!==(a=t[96])&&v(r,"alt",a),97&n[0]&&x(r,"selected",t[5]==t[97]&&"real"==t[6])},d(t){t&&u(e),h=!1,k()}}}function st(t,e){let n,l,s="benign"===e[99]&&lt(e);return{key:t,first:null,c(){n=h(),s&&s.c(),l=h(),this.first=n},m(t,e){f(t,n,e),s&&s.m(t,e),f(t,l,e)},p(t,n){"benign"===(e=t)[99]?s?s.p(e,n):(s=lt(e),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(t){t&&u(n),s&&s.d(t),t&&u(l)}}}function rt(t){let e,n,l,s,r,c,a,d,h,k,$=t[97]+"";function w(...e){return t[30](t[97],...e)}return{c(){e=g("div"),n=g("div"),l=m($),s=p(),r=g("img"),d=p(),v(n,"class","image-number svelte-yfi6nf"),i(r.src,c=t[96])||v(r,"src",c),v(r,"alt",a=t[96]),v(r,"class","panel-image img-rounded svelte-yfi6nf"),x(r,"selected",t[5]==t[97]&&"real"==t[6]),v(e,"class","grid-item svelte-yfi6nf")},m(t,c){f(t,e,c),o(e,n),o(n,l),o(e,s),o(e,r),o(e,d),h||(k=y(r,"click",w),h=!0)},p(e,n){t=e,1&n[0]&&$!==($=t[97]+"")&&b(l,$),1&n[0]&&!i(r.src,c=t[96])&&v(r,"src",c),1&n[0]&&a!==(a=t[96])&&v(r,"alt",a),97&n[0]&&x(r,"selected",t[5]==t[97]&&"real"==t[6])},d(t){t&&u(e),h=!1,k()}}}function ct(t,e){let n,l,s="cancer"===e[99]&&rt(e);return{key:t,first:null,c(){n=h(),s&&s.c(),l=h(),this.first=n},m(t,e){f(t,n,e),s&&s.m(t,e),f(t,l,e)},p(t,n){"cancer"===(e=t)[99]?s?s.p(e,n):(s=rt(e),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(t){t&&u(n),s&&s.d(t),t&&u(l)}}}function at(t){let e,n,s,r,c,a,d,h,k,$,w,_,C,E,S=t[97]+"",I=t[98]+"",M=t[2]&&t[5]===t[97]&&it(t);function N(...e){return t[38](t[97],t[98],...e)}function O(...e){return t[39](t[97],t[98],...e)}function L(...e){return t[40](t[97],...e)}return{c(){e=g("div"),n=g("div"),s=m(S),r=p(),c=g("img"),h=p(),k=g("div"),$=m(I),w=p(),M&&M.c(),_=p(),v(n,"class","image-number svelte-yfi6nf"),i(c.src,a=t[96])||v(c,"src",a),v(c,"alt",d=t[96]),v(c,"class","panel-image svelte-yfi6nf"),x(c,"selected",t[5]==t[97]&&"generated"==t[6]),x(c,"tagged",""!==t[98]&&(t[5]!==t[97]||"generated"!==t[6])),v(k,"class","tag-text svelte-yfi6nf"),v(e,"class","grid-item svelte-yfi6nf"),v(e,"draggable","true"),x(e,"draggable",!t[10])},m(t,l){f(t,e,l),o(e,n),o(n,s),o(e,r),o(e,c),o(e,h),o(e,k),o(k,$),o(e,w),M&&M.m(e,null),o(e,_),C||(E=[y(e,"click",N),y(e,"dragstart",O),y(e,"dragenter",L)],C=!0)},p(n,l){t=n,2&l[0]&&S!==(S=t[97]+"")&&b(s,S),2&l[0]&&!i(c.src,a=t[96])&&v(c,"src",a),2&l[0]&&d!==(d=t[96])&&v(c,"alt",d),98&l[0]&&x(c,"selected",t[5]==t[97]&&"generated"==t[6]),98&l[0]&&x(c,"tagged",""!==t[98]&&(t[5]!==t[97]||"generated"!==t[6])),2&l[0]&&I!==(I=t[98]+"")&&b($,I),t[2]&&t[5]===t[97]?M?M.p(t,l):(M=it(t),M.c(),M.m(e,_)):M&&(M.d(1),M=null),1024&l[0]&&x(e,"draggable",!t[10])},d(t){t&&u(e),M&&M.d(),C=!1,l(E)}}}function it(t){let e,n,s,r,c,a,i,m=t[4],h=[];for(let e=0;e<m.length;e+=1)h[e]=ot(K(t,m,e));return{c(){e=g("div");for(let t=0;t<h.length;t+=1)h[t].c();n=p(),s=g("input"),r=p(),c=g("button"),c.textContent="Save Tag",v(s,"type","text"),v(s,"placeholder","Tag"),v(s,"class","add-tag"),v(c,"class","svelte-yfi6nf"),v(e,"class","tag-menu svelte-yfi6nf")},m(l,u){f(l,e,u);for(let t=0;t<h.length;t+=1)h[t]&&h[t].m(e,null);o(e,n),o(e,s),k(s,t[3]),o(e,r),o(e,c),a||(i=[y(s,"input",t[35]),y(s,"input",Et),y(s,"keydown",t[36]),y(c,"click",t[37])],a=!0)},p(t,l){if(16402&l[0]){let s;for(m=t[4],s=0;s<m.length;s+=1){const r=K(t,m,s);h[s]?h[s].p(r,l):(h[s]=ot(r),h[s].c(),h[s].m(e,n))}for(;s<h.length;s+=1)h[s].d(1);h.length=m.length}8&l[0]&&s.value!==t[3]&&k(s,t[3])},d(t){t&&u(e),d(h,t),a=!1,l(i)}}}function ot(t){let e,n,l,s,r,c=t[98]+"";function a(){return t[34](t[97],t[98])}return{c(){e=g("button"),n=m(c),l=g("br"),v(e,"class","svelte-yfi6nf")},m(t,c){f(t,e,c),o(e,n),f(t,l,c),s||(r=y(e,"click",a),s=!0)},p(e,l){t=e,16&l[0]&&c!==(c=t[98]+"")&&b(n,c)},d(t){t&&u(e),t&&u(l),s=!1,r()}}}function ft(t,e){let n,l,s="benign"===e[99]&&at(e);return{key:t,first:null,c(){n=h(),s&&s.c(),l=h(),this.first=n},m(t,e){f(t,n,e),s&&s.m(t,e),f(t,l,e)},p(t,n){"benign"===(e=t)[99]?s?s.p(e,n):(s=at(e),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(t){t&&u(n),s&&s.d(t),t&&u(l)}}}function ut(t){let e,n,s,r,c,a,d,h,k,$,w,_,C,E,S=t[97]+"",I=t[98]+"",M=t[2]&&t[5]===t[97]&&dt(t);function N(...e){return t[45](t[97],t[98],...e)}function O(...e){return t[46](t[97],t[98],...e)}function L(...e){return t[47](t[97],...e)}return{c(){e=g("div"),n=g("div"),s=m(S),r=p(),c=g("img"),h=p(),k=g("div"),$=m(I),w=p(),M&&M.c(),_=p(),v(n,"class","image-number svelte-yfi6nf"),i(c.src,a=t[96])||v(c,"src",a),v(c,"alt",d=t[96]),v(c,"class","panel-image svelte-yfi6nf"),x(c,"selected",t[5]==t[97]&&"generated"==t[6]),x(c,"tagged",""!==t[98]&&(t[5]!==t[97]||"generated"!==t[6])),v(k,"class","tag-text svelte-yfi6nf"),v(e,"class","grid-item svelte-yfi6nf"),v(e,"draggable","true"),x(e,"draggable",!t[10])},m(t,l){f(t,e,l),o(e,n),o(n,s),o(e,r),o(e,c),o(e,h),o(e,k),o(k,$),o(e,w),M&&M.m(e,null),o(e,_),C||(E=[y(e,"click",N),y(e,"dragstart",O),y(e,"dragenter",L)],C=!0)},p(n,l){t=n,2&l[0]&&S!==(S=t[97]+"")&&b(s,S),2&l[0]&&!i(c.src,a=t[96])&&v(c,"src",a),2&l[0]&&d!==(d=t[96])&&v(c,"alt",d),98&l[0]&&x(c,"selected",t[5]==t[97]&&"generated"==t[6]),98&l[0]&&x(c,"tagged",""!==t[98]&&(t[5]!==t[97]||"generated"!==t[6])),2&l[0]&&I!==(I=t[98]+"")&&b($,I),t[2]&&t[5]===t[97]?M?M.p(t,l):(M=dt(t),M.c(),M.m(e,_)):M&&(M.d(1),M=null),1024&l[0]&&x(e,"draggable",!t[10])},d(t){t&&u(e),M&&M.d(),C=!1,l(E)}}}function dt(t){let e,n,s,r,c,a,i,m=t[4],h=[];for(let e=0;e<m.length;e+=1)h[e]=gt(Y(t,m,e));return{c(){e=g("div");for(let t=0;t<h.length;t+=1)h[t].c();n=p(),s=g("input"),r=p(),c=g("button"),c.textContent="Save Tag",v(s,"type","text"),v(s,"placeholder","Tag"),v(s,"class","add-tag"),v(c,"class","svelte-yfi6nf"),v(e,"class","tag-menu svelte-yfi6nf")},m(l,u){f(l,e,u);for(let t=0;t<h.length;t+=1)h[t]&&h[t].m(e,null);o(e,n),o(e,s),k(s,t[3]),o(e,r),o(e,c),a||(i=[y(s,"input",t[42]),y(s,"input",St),y(s,"keydown",t[43]),y(c,"click",t[44])],a=!0)},p(t,l){if(16402&l[0]){let s;for(m=t[4],s=0;s<m.length;s+=1){const r=Y(t,m,s);h[s]?h[s].p(r,l):(h[s]=gt(r),h[s].c(),h[s].m(e,n))}for(;s<h.length;s+=1)h[s].d(1);h.length=m.length}8&l[0]&&s.value!==t[3]&&k(s,t[3])},d(t){t&&u(e),d(h,t),a=!1,l(i)}}}function gt(t){let e,n,l,s,r,c=t[98]+"";function a(){return t[41](t[97],t[98])}return{c(){e=g("button"),n=m(c),l=g("br"),v(e,"class","svelte-yfi6nf")},m(t,c){f(t,e,c),o(e,n),f(t,l,c),s||(r=y(e,"click",a),s=!0)},p(e,l){t=e,16&l[0]&&c!==(c=t[98]+"")&&b(n,c)},d(t){t&&u(e),t&&u(l),s=!1,r()}}}function mt(t,e){let n,l,s="cancer"===e[99]&&ut(e);return{key:t,first:null,c(){n=h(),s&&s.c(),l=h(),this.first=n},m(t,e){f(t,n,e),s&&s.m(t,e),f(t,l,e)},p(t,n){"cancer"===(e=t)[99]?s?s.p(e,n):(s=ut(e),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(t){t&&u(n),s&&s.d(t),t&&u(l)}}}function pt(t){let e,n,s,r,c,a,i,d,m,h,b,k,x,$,w,_,C,E,S,I,M,N,O=[],L=new Map,j=[],R=new Map,T=t[8];const F=t=>t[96];for(let e=0;e<T.length;e+=1){let n=z(t,T,e),l=F(n);L.set(l,O[e]=bt(l,n))}let D=t[8];const J=t=>t[96];for(let e=0;e<D.length;e+=1){let n=G(t,D,e),l=J(n);R.set(l,j[e]=wt(l,n))}return{c(){e=g("div"),n=g("div"),s=g("h2"),s.textContent="Fake Images",r=p(),c=g("hr"),a=p(),i=g("div"),d=g("button"),d.textContent="Sort Fake Images by similarity with the selected image",m=p(),h=g("button"),h.textContent="Shuffle Fake Images",b=p(),k=g("button"),k.textContent="Reset Images Order",x=p(),$=g("hr"),w=p(),_=g("div");for(let t=0;t<O.length;t+=1)O[t].c();C=p(),E=g("hr"),S=p(),I=g("div");for(let t=0;t<j.length;t+=1)j[t].c();v(s,"class","fake-title svelte-yfi6nf"),v(c,"class","svelte-yfi6nf"),v(d,"class","btn btn-sm btn-secondary svelte-yfi6nf"),v(h,"class","btn btn-sm btn-secondary svelte-yfi6nf"),v(k,"class","btn btn-sm btn-secondary svelte-yfi6nf"),v(i,"class","btn-group button-bar"),v(n,"class","top-panel svelte-yfi6nf"),v($,"class","svelte-yfi6nf"),v(_,"class","image-grid svelte-yfi6nf"),v(E,"class","svelte-yfi6nf"),v(I,"class","image-grid cancer svelte-yfi6nf"),v(e,"class","panel fake-panel svelte-yfi6nf")},m(l,u){f(l,e,u),o(e,n),o(n,s),o(n,r),o(n,c),o(n,a),o(n,i),o(i,d),o(i,m),o(i,h),o(i,b),o(i,k),o(e,x),o(e,$),o(e,w),o(e,_);for(let t=0;t<O.length;t+=1)O[t]&&O[t].m(_,null);o(e,C),o(e,E),o(e,S),o(e,I);for(let t=0;t<j.length;t+=1)j[t]&&j[t].m(I,null);M||(N=[y(d,"click",t[50]),y(h,"click",t[51]),y(k,"click",t[52]),y(e,"dragover",t[65]),y(e,"drop",t[66])],M=!0)},p(t,e){4251964&e[0]&&(T=t[8],O=A(O,e,F,1,t,T,L,_,P,bt,null,z)),4251964&e[0]&&(D=t[8],j=A(j,e,J,1,t,D,R,I,P,wt,null,G))},d(t){t&&u(e);for(let t=0;t<O.length;t+=1)O[t].d();for(let t=0;t<j.length;t+=1)j[t].d();M=!1,l(N)}}}function ht(t){let e,n,s,r,c,a,d,h,k,x,$,w,_,C,E=t[97]+"",S=t[98]+"",I=t[2]&&t[5]===t[97]&&yt(t);function M(...e){return t[57](t[97],t[98],...e)}function N(...e){return t[58](t[97],...e)}return{c(){e=g("div"),n=g("div"),s=m(E),r=p(),c=g("img"),h=p(),k=g("div"),x=m(S),$=p(),I&&I.c(),w=p(),v(n,"class","image-number svelte-yfi6nf"),i(c.src,a=t[96])||v(c,"src",a),v(c,"alt",d=t[96]),v(c,"class","panel-image svelte-yfi6nf"),v(k,"class","tag-text svelte-yfi6nf"),v(e,"class","grid-item svelte-yfi6nf"),v(e,"draggable","true")},m(t,l){f(t,e,l),o(e,n),o(n,s),o(e,r),o(e,c),o(e,h),o(e,k),o(k,x),o(e,$),I&&I.m(e,null),o(e,w),_||(C=[y(e,"click",M),y(e,"dragstart",N)],_=!0)},p(n,l){t=n,256&l[0]&&E!==(E=t[97]+"")&&b(s,E),256&l[0]&&!i(c.src,a=t[96])&&v(c,"src",a),256&l[0]&&d!==(d=t[96])&&v(c,"alt",d),256&l[0]&&S!==(S=t[98]+"")&&b(x,S),t[2]&&t[5]===t[97]?I?I.p(t,l):(I=yt(t),I.c(),I.m(e,w)):I&&(I.d(1),I=null)},d(t){t&&u(e),I&&I.d(),_=!1,l(C)}}}function yt(t){let e,n,s,r,c,a,i,m=t[4],h=[];for(let e=0;e<m.length;e+=1)h[e]=vt(W(t,m,e));return{c(){e=g("div");for(let t=0;t<h.length;t+=1)h[t].c();n=p(),s=g("input"),r=p(),c=g("button"),c.textContent="Save Tag",v(s,"type","text"),v(s,"placeholder","Tag"),v(s,"class","add-tag"),v(c,"class","svelte-yfi6nf"),v(e,"class","tag-menu svelte-yfi6nf")},m(l,u){f(l,e,u);for(let t=0;t<h.length;t+=1)h[t]&&h[t].m(e,null);o(e,n),o(e,s),k(s,t[3]),o(e,r),o(e,c),a||(i=[y(s,"input",t[54]),y(s,"input",It),y(s,"keydown",t[55]),y(c,"click",t[56])],a=!0)},p(t,l){if(16656&l[0]){let s;for(m=t[4],s=0;s<m.length;s+=1){const r=W(t,m,s);h[s]?h[s].p(r,l):(h[s]=vt(r),h[s].c(),h[s].m(e,n))}for(;s<h.length;s+=1)h[s].d(1);h.length=m.length}8&l[0]&&s.value!==t[3]&&k(s,t[3])},d(t){t&&u(e),d(h,t),a=!1,l(i)}}}function vt(t){let e,n,l,s,r,c=t[98]+"";function a(){return t[53](t[97],t[98])}return{c(){e=g("button"),n=m(c),l=g("br"),v(e,"class","svelte-yfi6nf")},m(t,c){f(t,e,c),o(e,n),f(t,l,c),s||(r=y(e,"click",a),s=!0)},p(e,l){t=e,16&l[0]&&c!==(c=t[98]+"")&&b(n,c)},d(t){t&&u(e),t&&u(l),s=!1,r()}}}function bt(t,e){let n,l,s="benign"===e[99]&&ht(e);return{key:t,first:null,c(){n=h(),s&&s.c(),l=h(),this.first=n},m(t,e){f(t,n,e),s&&s.m(t,e),f(t,l,e)},p(t,n){"benign"===(e=t)[99]?s?s.p(e,n):(s=ht(e),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(t){t&&u(n),s&&s.d(t),t&&u(l)}}}function kt(t){let e,n,s,r,c,a,d,h,k,x,$,w,_,C,E=t[97]+"",S=t[98]+"",I=t[2]&&t[5]===t[97]&&xt(t);function M(...e){return t[63](t[97],t[98],...e)}function N(...e){return t[64](t[97],...e)}return{c(){e=g("div"),n=g("div"),s=m(E),r=p(),c=g("img"),h=p(),k=g("div"),x=m(S),$=p(),I&&I.c(),w=p(),v(n,"class","image-number svelte-yfi6nf"),i(c.src,a=t[96])||v(c,"src",a),v(c,"alt",d=t[96]),v(c,"class","panel-image svelte-yfi6nf"),v(k,"class","tag-text svelte-yfi6nf"),v(e,"class","grid-item svelte-yfi6nf"),v(e,"draggable","true")},m(t,l){f(t,e,l),o(e,n),o(n,s),o(e,r),o(e,c),o(e,h),o(e,k),o(k,x),o(e,$),I&&I.m(e,null),o(e,w),_||(C=[y(e,"click",M),y(e,"dragstart",N)],_=!0)},p(n,l){t=n,256&l[0]&&E!==(E=t[97]+"")&&b(s,E),256&l[0]&&!i(c.src,a=t[96])&&v(c,"src",a),256&l[0]&&d!==(d=t[96])&&v(c,"alt",d),256&l[0]&&S!==(S=t[98]+"")&&b(x,S),t[2]&&t[5]===t[97]?I?I.p(t,l):(I=xt(t),I.c(),I.m(e,w)):I&&(I.d(1),I=null)},d(t){t&&u(e),I&&I.d(),_=!1,l(C)}}}function xt(t){let e,n,s,r,c,a,i,m=t[4],h=[];for(let e=0;e<m.length;e+=1)h[e]=$t(q(t,m,e));return{c(){e=g("div");for(let t=0;t<h.length;t+=1)h[t].c();n=p(),s=g("input"),r=p(),c=g("button"),c.textContent="Save Tag",v(s,"type","text"),v(s,"placeholder","Tag"),v(s,"class","add-tag"),v(c,"class","svelte-yfi6nf"),v(e,"class","tag-menu svelte-yfi6nf")},m(l,u){f(l,e,u);for(let t=0;t<h.length;t+=1)h[t]&&h[t].m(e,null);o(e,n),o(e,s),k(s,t[3]),o(e,r),o(e,c),a||(i=[y(s,"input",t[60]),y(s,"input",Mt),y(s,"keydown",t[61]),y(c,"click",t[62])],a=!0)},p(t,l){if(16656&l[0]){let s;for(m=t[4],s=0;s<m.length;s+=1){const r=q(t,m,s);h[s]?h[s].p(r,l):(h[s]=$t(r),h[s].c(),h[s].m(e,n))}for(;s<h.length;s+=1)h[s].d(1);h.length=m.length}8&l[0]&&s.value!==t[3]&&k(s,t[3])},d(t){t&&u(e),d(h,t),a=!1,l(i)}}}function $t(t){let e,n,l,s,r,c=t[98]+"";function a(){return t[59](t[97],t[98])}return{c(){e=g("button"),n=m(c),l=g("br"),v(e,"class","svelte-yfi6nf")},m(t,c){f(t,e,c),o(e,n),f(t,l,c),s||(r=y(e,"click",a),s=!0)},p(e,l){t=e,16&l[0]&&c!==(c=t[98]+"")&&b(n,c)},d(t){t&&u(e),t&&u(l),s=!1,r()}}}function wt(t,e){let n,l,s="cancer"===e[99]&&kt(e);return{key:t,first:null,c(){n=h(),s&&s.c(),l=h(),this.first=n},m(t,e){f(t,n,e),s&&s.m(t,e),f(t,l,e)},p(t,n){"cancer"===(e=t)[99]?s?s.p(e,n):(s=kt(e),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(t){t&&u(n),s&&s.d(t),t&&u(l)}}}function _t(e){let n,s,r,c,a,i,d,m,h,b,k,$,w,_,C,E,S,I,M,N,O,L,j,R,T,F,D,J,U,B,G,q,z,W,Y,K,Z,nt,lt,rt,at,it,ot,ut,dt,gt,ht=[],yt=new Map,vt=[],bt=new Map,kt=[],xt=new Map,$t=[],wt=new Map;function _t(t,e){return t[7]?tt:et}let Ct=_t(e),Et=Ct(e),St=e[0];const It=t=>t[96];for(let t=0;t<St.length;t+=1){let n=V(e,St,t),l=It(n);yt.set(l,ht[t]=st(l,n))}let Mt=e[0];const Nt=t=>t[96];for(let t=0;t<Mt.length;t+=1){let n=Q(e,Mt,t),l=Nt(n);bt.set(l,vt[t]=ct(l,n))}let Ot=e[1];const Lt=t=>t[96];for(let t=0;t<Ot.length;t+=1){let n=H(e,Ot,t),l=Lt(n);xt.set(l,kt[t]=ft(l,n))}let jt=e[1];const Rt=t=>t[96];for(let t=0;t<jt.length;t+=1){let n=X(e,jt,t),l=Rt(n);wt.set(l,$t[t]=mt(l,n))}let Tt=e[9]&&pt(e);return{c(){n=g("div"),Et.c(),s=p(),r=g("div"),c=g("h2"),c.textContent="Real Images",a=p(),i=g("hr"),d=p(),m=g("div"),h=g("button"),h.textContent="Sort Real Images by similarity with the selected image",b=p(),k=g("button"),k.textContent="Shuffle Real Images",$=p(),w=g("button"),w.textContent="Reset Images Order",_=p(),C=g("hr"),E=p(),S=g("div");for(let t=0;t<ht.length;t+=1)ht[t].c();I=p(),M=g("hr"),N=p(),O=g("div");for(let t=0;t<vt.length;t+=1)vt[t].c();L=p(),j=g("div"),R=g("h2"),R.textContent="Generated Images",T=p(),F=g("hr"),D=p(),J=g("div"),U=g("button"),U.textContent="Sort Generated Images by similarity with the selected image",B=p(),G=g("button"),G.textContent="Shuffle Generated Images",q=p(),z=g("button"),z.textContent="Reset Images Order",W=p(),Y=g("button"),Y.textContent="Fast tagging mode",K=p(),Z=g("hr"),nt=p(),lt=g("div");for(let t=0;t<kt.length;t+=1)kt[t].c();rt=p(),at=g("hr"),it=p(),ot=g("div");for(let t=0;t<$t.length;t+=1)$t[t].c();ut=p(),Tt&&Tt.c(),v(c,"class","top-panel svelte-yfi6nf"),v(i,"class","svelte-yfi6nf"),v(h,"class","btn btn-sm btn-secondary svelte-yfi6nf"),v(k,"class","btn btn-sm btn-secondary svelte-yfi6nf"),v(w,"class","btn btn-sm btn-secondary svelte-yfi6nf"),v(m,"class","btn-group button-bar top-panel svelte-yfi6nf"),v(C,"class","svelte-yfi6nf"),v(S,"class","image-grid svelte-yfi6nf"),v(M,"class","svelte-yfi6nf"),v(O,"class","image-grid cancer svelte-yfi6nf"),v(r,"class","panel container svelte-yfi6nf"),v(R,"class","top-panel svelte-yfi6nf"),v(F,"class","svelte-yfi6nf"),v(U,"class","btn btn-sm btn-secondary svelte-yfi6nf"),v(G,"class","btn btn-sm btn-secondary svelte-yfi6nf"),v(z,"class","btn btn-sm btn-secondary svelte-yfi6nf"),v(Y,"class","btn btn-sm btn-secondary svelte-yfi6nf"),x(Y,"triggered",e[10]),v(J,"class","btn-group button-bar top-panel svelte-yfi6nf"),v(Z,"class","svelte-yfi6nf"),v(lt,"class","image-grid svelte-yfi6nf"),v(at,"class","svelte-yfi6nf"),v(ot,"class","image-grid cancer svelte-yfi6nf"),v(j,"class","panel svelte-yfi6nf"),v(n,"class","App svelte-yfi6nf")},m(t,l){f(t,n,l),Et.m(n,null),o(n,s),o(n,r),o(r,c),o(r,a),o(r,i),o(r,d),o(r,m),o(m,h),o(m,b),o(m,k),o(m,$),o(m,w),o(r,_),o(r,C),o(r,E),o(r,S);for(let t=0;t<ht.length;t+=1)ht[t]&&ht[t].m(S,null);o(r,I),o(r,M),o(r,N),o(r,O);for(let t=0;t<vt.length;t+=1)vt[t]&&vt[t].m(O,null);o(n,L),o(n,j),o(j,R),o(j,T),o(j,F),o(j,D),o(j,J),o(J,U),o(J,B),o(J,G),o(J,q),o(J,z),o(J,W),o(J,Y),o(j,K),o(j,Z),o(j,nt),o(j,lt);for(let t=0;t<kt.length;t+=1)kt[t]&&kt[t].m(lt,null);o(j,rt),o(j,at),o(j,it),o(j,ot);for(let t=0;t<$t.length;t+=1)$t[t]&&$t[t].m(ot,null);o(n,ut),Tt&&Tt.m(n,null),dt||(gt=[y(h,"click",e[26]),y(k,"click",e[27]),y(w,"click",e[28]),y(U,"click",e[31]),y(G,"click",e[32]),y(z,"click",e[33]),y(Y,"click",e[21]),y(j,"drop",e[48]),y(j,"dragover",e[49])],dt=!0)},p(t,e){Ct===(Ct=_t(t))&&Et?Et.p(t,e):(Et.d(1),Et=Ct(t),Et&&(Et.c(),Et.m(n,s))),65633&e[0]&&(St=t[0],ht=A(ht,e,It,1,t,St,yt,S,P,st,null,V)),65633&e[0]&&(Mt=t[0],vt=A(vt,e,Nt,1,t,Mt,bt,O,P,ct,null,Q)),1024&e[0]&&x(Y,"triggered",t[10]),12641406&e[0]&&(Ot=t[1],kt=A(kt,e,Lt,1,t,Ot,xt,lt,P,ft,null,H)),12641406&e[0]&&(jt=t[1],$t=A($t,e,Rt,1,t,jt,wt,ot,P,mt,null,X)),t[9]?Tt?Tt.p(t,e):(Tt=pt(t),Tt.c(),Tt.m(n,null)):Tt&&(Tt.d(1),Tt=null)},i:t,o:t,d(t){t&&u(n),Et.d();for(let t=0;t<ht.length;t+=1)ht[t].d();for(let t=0;t<vt.length;t+=1)vt[t].d();for(let t=0;t<kt.length;t+=1)kt[t].d();for(let t=0;t<$t.length;t+=1)$t[t].d();Tt&&Tt.d(),dt=!1,l(gt)}}}function Ct(t,e,n){const l=e.findIndex((e=>e.index===t));n.push(e[l]),e.splice(l,1)}const Et=()=>{},St=()=>{},It=()=>{},Mt=()=>{};function Nt(t,e,n){let l=[],s=[];const r=[],c=async()=>{const t=await fetch("docs/assets/real_images/manifest.json"),e=await t.json();n(0,l=e.map(((t,e)=>({path:`docs/assets/real_images/${t}`,index:e,tag:"",type:t.includes("mel")?"cancer":"benign"}))))},a=async()=>{const t=await fetch("docs/assets/generated_images/manifest.json"),e=await t.json();n(1,s=e.map(((t,e)=>({path:`docs/assets/generated_images/${t}`,index:e,tag:"",type:t.includes("mel")?"cancer":"benign"}))))},i=async()=>{try{const t="docs/assets/distances/t10_0.csv",e=await fetch(t),n=await e.text();n.split("\n").forEach((t=>{const e=t.split(", ").map((t=>parseFloat(t)));r.push(e)}))}catch(t){console.error("Error loading distance matrix:",t)}},o=()=>{u();let t=[...s,...N.map((t=>({...t,tag:t.tag+", fake"})))];t=t.sort(((t,e)=>t.index-e.index));return t.map((t=>[t.index,t.path,t.tag].join(","))).join("\n")},f=()=>{console.log("store"),localStorage.setItem("generatedPaths",JSON.stringify(s)),localStorage.setItem("fakePaths",JSON.stringify(N))},u=()=>{console.log("load");const t=localStorage.getItem("generatedPaths"),e=[];if(t){JSON.parse(t).forEach((t=>{e.push({...t,index:parseInt(t.index)})})),n(1,s=e)}const l=localStorage.getItem("fakePaths"),r=[];if(l){JSON.parse(l).forEach((t=>{r.push({...t,index:parseInt(t.index)})})),n(8,N=r)}};let d=!1,g="",m=[];const p=()=>{g&&(n(4,m=[...m,g]),console.log(m),n(3,g=""))},h=(t,e,l)=>{"generated"===t&&(n(1,s=s.map((t=>t.index===e?{...t,tag:l}:t))),y(s),f())},y=(t,e)=>t.filter((t=>t.tag===e)).map((t=>t.index));let v=null,b="";let k=null,x=null;const $=(t,e)=>{n(5,k=e),n(6,x=t)},_=(t,e,l)=>{$("generated",e),((t,e)=>{t.clientX,t.clientY,n(2,d=!0),n(5,k=e)})(t,e)},C=(t,e)=>{$("real",e)},E=t=>{"real"===t?n(0,l=l.sort((()=>Math.random()-.5))):"generated"===t&&n(1,s=s.sort((()=>Math.random()-.5)))},S=t=>{"real"===t?n(0,l=l.sort(((t,e)=>t.index-e.index))):"generated"===t&&n(1,s=s.sort(((t,e)=>t.index-e.index)))},I=t=>{const e=r[k];"real"===t?n(0,l=l.sort(((t,n)=>e[t.index]-e[n.index]))):"generated"===t?n(1,s=s.sort(((t,n)=>e[n.index]-e[t.index]))):console.log("error: Wrong panel name in sortImages")};let M=!1;let N=[],O=null,L=null;let j=!1;const R=(t,e,n,l)=>{j?((t,e,n)=>{v=e,b=n})(0,n,l):function(t,e,n){O=n,L=e}(0,e,n)},T=(t,e)=>{j&&((t,e)=>{t.preventDefault(),null!==v&&h("generated",e,b)})(t,e)},F=t=>{j||function(t){t.preventDefault()}(t)},P=(t,e)=>{j?(t=>{t.preventDefault(),v=null,b=""})(t):function(t,e){t.preventDefault(),"generated"===L&&"fake"===e?Ct(O,s,N):"generated"===e&&"fake"===L&&Ct(O,N,s),n(8,N),n(1,s),f()}(t,e)},A=t=>{t.target.closest(".context-menu");!t.target.closest(".grid-item")&&n(2,d=!1)};w((async()=>(window.addEventListener("click",A),await Promise.all([c(),a(),i()]),()=>{window.removeEventListener("click",A)})));return[l,s,d,g,m,k,x,M,N,!0,j,()=>{const t=new Blob([o()],{type:"text/csv"}),e=URL.createObjectURL(t),n=document.createElement("a");n.href=e,n.download="feedback.csv",n.click(),URL.revokeObjectURL(e)},u,p,h,_,C,E,S,I,()=>{n(7,M=!M)},()=>{n(10,j=!j)},R,T,F,P,()=>I("real"),()=>E("real"),()=>S("real"),(t,e)=>C(0,t),(t,e)=>C(0,t),()=>I("generated"),()=>E("generated"),()=>S("generated"),(t,e)=>h("generated",t,e),function(){g=this.value,n(3,g)},t=>{"Enter"===t.key&&p()},()=>p(),(t,e,n)=>_(n,t),(t,e,n)=>R(0,"generated",t,e),(t,e)=>T(e,t),(t,e)=>h("generated",t,e),function(){g=this.value,n(3,g)},t=>{"Enter"===t.key&&p()},()=>p(),(t,e,n)=>_(n,t),(t,e,n)=>R(0,"generated",t,e),(t,e)=>T(e,t),t=>P(t,"generated"),t=>F(t),()=>I("fake"),()=>E("fake"),()=>S("fake"),(t,e)=>h("fake",t,e),function(){g=this.value,n(3,g)},t=>{"Enter"===t.key&&p()},()=>p(),(t,e,n)=>_(n,t),(t,e)=>R(0,"generated",t),(t,e)=>h("fake",t,e),function(){g=this.value,n(3,g)},t=>{"Enter"===t.key&&p()},()=>p(),(t,e,n)=>_(n,t),(t,e)=>R(0,"generated",t),t=>F(t),t=>P(t,"fake")]}return new class extends B{constructor(t){super(),U(this,t,Nt,_t,r,{},null,[-1,-1,-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
